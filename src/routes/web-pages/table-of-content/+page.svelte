<!-- role=list necessary because WebKit removes list semantic
     when list-style-type: none 
WebKit browsers remove list semantics when list-style-type is none,
 so I needed to add role="list" into the HTML to preserve it:-->
<ol class="toc-list" role="list">

    <li>
        <a href="#Introduction">
            <span class="title">Introduction<span class="leaders" aria-hidden="true"></span></span> <span
                data-href="#Introduction" class="page"><span class="visually-hidden">Page&nbsp;</span>5</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Introduction-About-This-Book">
                    <span class="title">About This Book<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Introduction-About-This-Book" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>5</span>
                </a>
            </li>

            <li>
                <a href="#Introduction-Acknowledgments">
                    <span class="title">Acknowledgments<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Introduction-Acknowledgments" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>8</span>
                </a>
            </li>

            <li>
                <a href="#Introduction-About-the-Author">
                    <span class="title">About the Author<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Introduction-About-the-Author" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>8</span>
                </a>
            </li>

            <li>
                <a href="#Introduction-Disclaimer">
                    <span class="title">Disclaimer<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Introduction-Disclaimer" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>8</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Promise-Basics">
            <span class="title">1. Promise Basics<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Promise-Basics" class="page"><span class="visually-hidden">Page&nbsp;</span>9</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Promise-Basics-The-Promise-Lifecycle">
                    <span class="title">The Promise Lifecycle<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Promise-Basics-The-Promise-Lifecycle" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>17</span>
                </a>
            </li>

            <li>
                <a href="#Promise-Basics-Creating-New-Unsettled-Promises">
                    <span class="title">Creating New (Unsettled) Promises<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Promise-Basics-Creating-New-Unsettled-Promises" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>21</span>
                </a>
            </li>

            <li>
                <a href="#Promise-Basics-Creating-Settled-Promises">
                    <span class="title">Creating Settled Promises<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Promise-Basics-Creating-Settled-Promises" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>24</span>
                </a>
            </li>

            <li>
                <a href="#Promise-Basics-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Promise-Basics-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>27</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Chaining-Promises">
            <span class="title">2. Chaining Promises<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Chaining-Promises" class="page"><span class="visually-hidden">Page&nbsp;</span>28</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Chaining-Promises-Catching-Errors">
                    <span class="title">Catching Errors<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Catching-Errors" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>30</span>
                </a>
            </li>

            <li>
                <a href="#Chaining-Promises-Using-finally-in-Promise-Chains">
                    <span class="title">Using finally() in Promise Chains<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Using-finally-in-Promise-Chains" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>34</span>
                </a>
            </li>

            <li>
                <a href="#Chaining-Promises-Returning-Values-in-Promise-Chains">
                    <span class="title">Returning Values in Promise Chains<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Returning-Values-in-Promise-Chains" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>35</span>
                </a>
            </li>

            <li>
                <a href="#Chaining-Promises-Returning-Promises-in-Promise-Chains">
                    <span class="title">Returning Promises in Promise Chains<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Returning-Promises-in-Promise-Chains" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>42</span>
                </a>
            </li>

            <li>
                <a href="#Chaining-Promises-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Chaining-Promises-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>43</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Working-with-Multiple-Promises">
            <span class="title">3. Working with Multiple Promises<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Working-with-Multiple-Promises" class="page"><span
                    class="visually-hidden">Page&nbsp;</span>43</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Working-with-Multiple-Promises-The-Promiseall-Method">
                    <span class="title">The Promise.all() Method<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Working-with-Multiple-Promises-The-Promiseall-Method" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>51</span>
                </a>
            </li>

            <li>
                <a href="#Working-with-Multiple-Promises-The-PromiseallSettled-Method">
                    <span class="title">The Promise.allSettled() Method<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Working-with-Multiple-Promises-The-PromiseallSettled-Method" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>57</span>
                </a>
            </li>

            <li>
                <a href="#Working-with-Multiple-Promises-The-Promiseany-Method">
                    <span class="title">The Promise.any() Method<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Working-with-Multiple-Promises-The-Promiseany-Method" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>61</span>
                </a>
            </li>

            <li>
                <a href="#Working-with-Multiple-Promises-The-Promiserace-Method">
                    <span class="title">The Promise.race() Method<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Working-with-Multiple-Promises-The-Promiserace-Method" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>65</span>
                </a>
            </li>

            <li>
                <a href="#Working-with-Multiple-Promises-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Working-with-Multiple-Promises-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>67</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Async-Functions-and-Await-Expressions">
            <span class="title">4. Async Functions and Await Expressions<span class="leaders"
                    aria-hidden="true"></span></span>
            <span data-href="#Async-Functions-and-Await-Expressions" class="page"><span
                    class="visually-hidden">Page&nbsp;</span>67</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Async-Functions-and-Await-Expressions-Defining-Async-Functions">
                    <span class="title">Defining Async Functions<span class="leaders" aria-hidden="true"></span></span>
                    <span data-href="#Async-Functions-and-Await-Expressions-Defining-Async-Functions" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>69</span>
                </a>
            </li>

            <li>
                <a href="#Async-Functions-and-Await-Expressions-What-Makes-Async-Functions-Different">
                    <span class="title">What Makes Async Functions Different<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Async-Functions-and-Await-Expressions-What-Makes-Async-Functions-Different"
                        class="page"><span class="visually-hidden">Page&nbsp;</span>81</span>
                </a>
            </li>

            <li>
                <a href="#Async-Functions-and-Await-Expressions-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Async-Functions-and-Await-Expressions-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>83</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Unhandled-Rejection-Tracking">
            <span class="title">5. Unhandled Rejection Tracking<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Unhandled-Rejection-Tracking" class="page"><span
                    class="visually-hidden">Page&nbsp;</span>83</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Unhandled-Rejection-Tracking-Detecting-Unhandled-Rejections">
                    <span class="title">Detecting Unhandled Rejections<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Unhandled-Rejection-Tracking-Detecting-Unhandled-Rejections" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>85</span>
                </a>
            </li>

            <li>
                <a href="#Unhandled-Rejection-Tracking-Web-Browser-Unhandled-Rejection-Tracking">
                    <span class="title">Web Browser Unhandled Rejection Tracking<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Unhandled-Rejection-Tracking-Web-Browser-Unhandled-Rejection-Tracking"
                        class="page"><span class="visually-hidden">Page&nbsp;</span>90</span>
                </a>
            </li>

            <li>
                <a href="#Unhandled-Rejection-Tracking-Nodejs-Unhandled-Rejection-Tracking">
                    <span class="title">Node.js Unhandled Rejection Tracking<span class="leaders"
                            aria-hidden="true"></span></span> <span
                        data-href="#Unhandled-Rejection-Tracking-Nodejs-Unhandled-Rejection-Tracking" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>94</span>
                </a>
            </li>

            <li>
                <a href="#Unhandled-Rejection-Tracking-Summary">
                    <span class="title">Summary<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Unhandled-Rejection-Tracking-Summary" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>95</span>
                </a>
            </li>

        </ol>
    </li>
    <li>
        <a href="#Final-Thoughts">
            <span class="title">Final Thoughts<span class="leaders" aria-hidden="true"></span></span>
            <span data-href="#Final-Thoughts" class="page"><span class="visually-hidden">Page&nbsp;</span>96</span>
        </a>
        <ol role="list">

            <li>
                <a href="#Final-Thoughts-Download-the-Extras">
                    <span class="title">Download the Extras<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Final-Thoughts-Download-the-Extras" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>96</span>
                </a>
            </li>

            <li>
                <a href="#Final-Thoughts-Support-the-Author">
                    <span class="title">Support the Author<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Final-Thoughts-Support-the-Author" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>96</span>
                </a>
            </li>

            <li>
                <a href="#Final-Thoughts-Help-and-Support">
                    <span class="title">Help and Support<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Final-Thoughts-Help-and-Support" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>97</span>
                </a>
            </li>

            <li>
                <a href="#Final-Thoughts-Follow-the-Author">
                    <span class="title">Follow the Author<span class="leaders" aria-hidden="true"></span></span> <span
                        data-href="#Final-Thoughts-Follow-the-Author" class="page"><span
                            class="visually-hidden">Page&nbsp;</span>102</span>
                </a>
            </li>

        </ol>
    </li>
</ol>


<style>
    @import url("https://fonts.googleapis.com/css2?family=Literata");

* {
    font-family: "Literata";
}

/* 
PAGE TEXT ADDED ONLY FOR SCREEN READERS
The only other change I made at this point
 was to hide the “Page” text. This is helpful
  for screen readers but unnecessary visually,
   so I used a traditional visually-hidden class
    to hide it from view */
.visually-hidden {
    clip: rect(0 0 0 0);
    clip-path: inset(100%);
    height: 1px;
    overflow: hidden;
    position: absolute;
    width: 1px;
    white-space: nowrap;
}

.toc-list, .toc-list ol {
  list-style-type: none;
}

.toc-list {
  padding: 0;
}

.toc-list ol {
  padding-inline-start: 2ch;
  /* The ch length unit allows the padding to be relative to
   the width of a character — no matter what font is used —
    rather than an absolute pixel size that could wind up
     looking inconsistent. */
}

/* At this point, the table of contents 
component looks pretty good, but it could 
use some minor detail work. To start, most
 books visually offset chapter titles from 
 subsection titles, so I made the top-level
  items bold and introduced a margin to 
  separate subsections from the chapters 
  that followed: */
.toc-list > li > a {
  font-weight: bold;
  margin-block-start: 1em;
}

.toc-list li > a {
    /* 
    STYLING EACH LINE
    The grid has two columns, the first of which 
    is auto-sized to fill up the entire width 
    of the container, minus the second column,
     which is sized to max-content. The page 
     number is aligned to the right, as is 
     traditional in a table of contents. */
    text-decoration: none;
    display: grid;
    grid-template-columns: auto max-content;
    align-items: end;
}

.toc-list li > a > .title {
    position: relative;
    overflow: hidden;
}
/* To insert the dot leaders, they both 
used a ::after pseudo-element with its
 content property set to a very long
  string of dots, like this: */

  /* Sara also pointed out to me that all of those dots
   count as text to screen readers. So what do you hear?
    “Introduction dot dot dot dot…” until all of the
     dots are announced. That’s an awful experience
      for screen reader users. */
.toc-list li > a .leaders::after {
    position: absolute;
    padding-inline-start: .25ch;
    content: " . . . . . . . . . . . . . . . . . . . "
        ". . . . . . . . . . . . . . . . . . . . . . . "
        ". . . . . . . . . . . . . . . . . . . . . . . "
        ". . . . . . . . . . . . . . . . . . . . . . . "
        ". . . . . . . . . . . . . . . . . . . . . . . "
        ". . . . . . . . . . . . . . . . . . . . . . . "
        ". . . . . . . . . . . . . . . . . . . . . . . ";
    text-align: right;
}
/* The ::after pseudo-element is set to an
 absolute position to take it out of the
  flow of the page and avoid wrapping to 
  other lines. The text is aligned to the 
  right because we want the last dots of
   each line flush to the number at the
    end of the line. (More on the 
    complexities of this later.) 
    The .title element is set to
     have a relative position so
      the ::after pseudo-element
       doesn’t break out of its box.
        Meanwhile, the overflow is hidden so all those
         extra dots invisible. The result is a
          pretty table of contents with dot leaders. */

.toc-list li > a > .page {
    min-width: 2ch;
    /* Next, I wanted to clean up the alignment of 
    the page numbers. Everything looked okay when 
    I was using a fixed-width font, but for
     variable-width fonts, the leader dots 
     could end up forming a zigzag pattern 
     as they adjust to the width of a page 
     number. For instance, any page number 
     with a 1 would be narrower than others,
      resulting in leader dots that are misaligned
       with the dots on previous or following lines. */
    font-variant-numeric: tabular-nums;
    /* To fix this problem, I set font-variant-numeric to 
    tabular-nums so all numbers are treated with the same 
    width. By also setting the minimum width to 2ch, I
     ensured that all numbers with one or two digits are 
     perfectly aligned. (You may want to set this to 3ch 
     if your project has more than 100 pages.) */
    text-align: right;
}
</style>