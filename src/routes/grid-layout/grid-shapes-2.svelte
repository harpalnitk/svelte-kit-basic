<main class='flex-center'>
    <section class='center-image'>
        <div class="gallery">
            <img src="https://picsum.photos/id/147/300/300" alt="The sea">
            <img src="https://picsum.photos/id/1038/300/300" alt="The sea">
            <img src="https://picsum.photos/id/1041/300/300" alt="The sea">
            <img src="https://picsum.photos/id/1053/300/300" alt="The sea">
            <img src="https://picsum.photos/id/447/300/300" alt="a man looking at the sea">
          </div>
        
    </section>
    <section class='center-image-circle'>
        <div class="gallery">
            <img src="https://picsum.photos/id/147/300/300" alt="The sea">
            <img src="https://picsum.photos/id/1038/300/300" alt="The sea">
            <img src="https://picsum.photos/id/1041/300/300" alt="The sea">
            <img src="https://picsum.photos/id/1053/300/300" alt="The sea">
            <img src="https://picsum.photos/id/447/300/300" alt="a man looking at the sea">
          </div>
        
    </section>
    <section class='center-image-rhombus'>
        <div class="gallery">
            <img src="https://picsum.photos/id/1019/300/300" alt="A night sky">
            <img src="https://picsum.photos/id/1021/300/300" alt="Forest in the mist">
            <img src="https://picsum.photos/id/1022/300/300" alt="Green Aurora borealis">
            <img src="https://picsum.photos/id/1037/300/300" alt="A forest with a rising sun">
            <img src="https://picsum.photos/id/193/300/300" alt="a castle">
          </div>
    </section>
    <section class='center-image-full-circle'>
        <div class="gallery">
            <img src="https://picsum.photos/id/1029/500/500" alt="a big park inside a modern city">
            <img src="https://picsum.photos/id/1047/500/500" alt="a small street between building">
            <img src="https://picsum.photos/id/1067/500/500" alt="seen from the sky of a big city">
            <img src="https://picsum.photos/id/122/500/500" alt="a bridge in the night">
          </div>
    </section>
    <h3>Expanding Image Panel Basic</h3>
    <section class='expanding-image-panel-basic'>
        <div class="gallery">
            <img src="https://picsum.photos/id/1028/800/600" alt="a forest after an apocalypse">
            <img src="https://picsum.photos/id/15/800/600" alt="a waterfall and many rocks">
            <img src="https://picsum.photos/id/1040/800/600" alt="a house on a mountain">
            <img src="https://picsum.photos/id/106/800/600" alt="sime pink flowers">
            <img src="https://picsum.photos/id/136/800/600" alt="big rocks with some trees">
          </div>
    </section>
    <h3>Expanding Image Panel Basic 2</h3>
    <section class='expanding-image-panel-basic-two'>
        <div class="gallery">
            <img src="https://picsum.photos/id/433/600/400" alt="A Bear">
            <img src="https://picsum.photos/id/582/600/400" alt="A wolf">
            <img src="https://picsum.photos/id/1074/600/400" alt="A lioness">
            <img src="https://picsum.photos/id/237/600/400" alt="A Dog">
            <img src="https://picsum.photos/id/659/600/400" alt="A kind wolf">
            <img src="https://picsum.photos/id/593/600/400" alt="A Tiger">
          </div>
    </section>
    <h3>Expanding Image Panel Basic 3</h3>
    <section class='expanding-image-panel-basic-three'>
        <div class="gallery">
            <img src="https://picsum.photos/id/433/600/400" alt="A Bear">
            <img src="https://picsum.photos/id/582/600/400" alt="A wolf">
            <img src="https://picsum.photos/id/1074/600/400" alt="A lioness">
            <img src="https://picsum.photos/id/237/600/400" alt="A Dog">
            <img src="https://picsum.photos/id/659/600/400" alt="A kind wolf">
            <img src="https://picsum.photos/id/593/600/400" alt="A Tiger">
          </div>
    </section>
    <h3>Expanding Image Panel Basic 4</h3>
    <section class='expanding-image-panel-basic-four'>
        <div class="gallery">
            <img src="https://picsum.photos/id/433/600/400" alt="A Bear">
            <img src="https://picsum.photos/id/582/600/400" alt="A wolf">
            <img src="https://picsum.photos/id/1074/600/400" alt="A lioness">
            <img src="https://picsum.photos/id/237/600/400" alt="A Dog">
            <img src="https://picsum.photos/id/659/600/400" alt="A kind wolf">
            <img src="https://picsum.photos/id/593/600/400" alt="A Tiger">
          </div>
    </section>
    <h3>Expanding Image Panel Final</h3>
    <section class='expanding-image-panel-final'>
        <div class="gallery">
            <img src="https://picsum.photos/id/433/600/400" alt="A Bear">
            <img src="https://picsum.photos/id/582/600/400" alt="A wolf">
            <img src="https://picsum.photos/id/1074/600/400" alt="A lioness">
            <img src="https://picsum.photos/id/237/600/400" alt="A Dog">
            <img src="https://picsum.photos/id/659/600/400" alt="A kind wolf">
            <img src="https://picsum.photos/id/593/600/400" alt="A Tiger">
          </div>
    </section>
    <h3>Zig Zag Basic</h3>
    <section class='zig-zag-basic'>
        <div class="gallery">
            <img src="https://picsum.photos/id/433/600/400" alt="A Bear">
            <img src="https://picsum.photos/id/582/600/400" alt="A wolf">
            <img src="https://picsum.photos/id/1074/600/400" alt="A lioness">
            <img src="https://picsum.photos/id/593/600/400" alt="A Tiger">
          </div>
    </section>
    <h3>Zig Zag Final</h3>
    <section class='zig-zag-final'>
        <div class="gallery">
            <img src="https://picsum.photos/id/433/600/400" alt="A Bear">
            <img src="https://picsum.photos/id/582/600/400" alt="A wolf">
            <img src="https://picsum.photos/id/1074/600/400" alt="A lioness">
            <img src="https://picsum.photos/id/593/600/400" alt="A Tiger">
          </div>
    </section>
    <h3>Two Character versus</h3>
    <section class='two-character-versus'>
        <h1><span>Archer</span> Vs <span>Saber</span></h1>
        <div class="gallery">
          <img src="https://assets.codepen.io/1480814/archer.jpg" alt="Archer from Fate/Stay">
          <img src="https://assets.codepen.io/1480814/saber.jpg" alt="Saber from Fate/Stay">
        </div>
    </section>
    </main>
    <style lang='scss'>
        main{
            min-height: 100vh;
            background: #f8f8f8;
            flex-direction: column;
            h3{
                font-weight: 700;
                font-size: 2em;
                margin-bottom: 1rem;
            }
        }
        section{
            width: 100%;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid grey;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .center-image{
            .gallery {
  --s: 200px; /* controls the image size */
  --g: 10px; /* controls the gap between images */

  display: grid;
  gap: var(--g);
  grid-template-columns: repeat(2, auto);
  position: relative;
}
.gallery > img {
  width: var(--s);
  aspect-ratio: 1;
  object-fit: cover;
  //#0000 is tansparent
  -webkit-mask: conic-gradient(from var(--_a), #0000 90deg, #000 0);
  mask: conic-gradient(from var(--_a),#0000 90deg,#000 0);
}

//The next step is to cut the corner of 
//our images to create the space for the nested image
//What we need here is to cut out the corners at an
// angle equal to 90deg. We can use the same conic-gradient 
//technique 
// .gallery > img {
//    mask: conic-gradient(from var(--_a), #0000 90deg, #000 0);
// }
.gallery > img:nth-child(1) { --_a: 90deg; }
.gallery > img:nth-child(2) { --_a: 180deg; }
.gallery > img:nth-child(3) { --_a: 0deg; }
.gallery > img:nth-child(4) { --_a:-90deg; }
//We could use the clip-path method for cutting corners
//  from that same article, but masking with gradients
//   is more suitable here because we have the same 
//   configuration for all the images — all we need is
//    a rotation (defined with the variable --_a) get
//     the effect, so we’re masking from the inside
//      instead of the outside edges
.gallery > img:nth-child(5) {
  position: absolute;
  //The inset property allows us to place the image
//    at the center using a single declaration. We 
//    know the size of the image (defined with the 
//    variable --s), and we know that the container’s 
//    size equals 100%. We do some math, and the
//     distance from each edge should be equal to 
//     (100% - var(--s))/2  i.e. at equal distance from all sides
  inset: calc(50% - .5*var(--s));
  //You might be wondering why we’re using clip-path 
//   at all here. We’re using it with the nested image
//    to have a consistent gap. If we were to remove it,
//     you would notice that we don’t have the same gap
//      between all the images. This way, we’re cutting
//       a little bit from the fifth image to get the
//        proper spacing around it
  clip-path: inset(calc(var(--g) / 4));
}
        }

        .center-image-circle{
            .gallery {
  --s: 200px; /* control the size */
  --g: 10px;  /* control the gap */
  
  display: grid;
  gap: var(--g);
  grid-template-columns: repeat(2,auto);
  position: relative;
  font-size: 0;
  transition: .5s;
  cursor: pointer;
}
.gallery > img {
  width: var(--s);
  aspect-ratio: 1;
  object-fit: cover;
  -webkit-mask: 
    radial-gradient(farthest-side at var(--_a),
      #0000 calc(50% + var(--g)/2 + 1em),#000 calc(51% + var(--g)/2 + 1em));
}
.gallery > img:nth-child(1) {--_a:calc(100% + var(--g)/2) calc(100% + var(--g)/2)}
.gallery > img:nth-child(2) {--_a:calc(  0% - var(--g)/2) calc(100% + var(--g)/2)}
.gallery > img:nth-child(3) {--_a:calc(100% + var(--g)/2) calc(  0% - var(--g)/2)}
.gallery > img:nth-child(4) {--_a:calc(  0% - var(--g)/2) calc(  0% - var(--g)/2)}
.gallery > img:nth-child(5) {
  position: absolute;
  width: calc(var(--s) + 2em);
  inset: 0;
  margin: auto;
  border-radius: 50%;
}

.gallery:hover {
    //Increasing the size is a relatively easy task, 
    // but updating the gradient is more complicated since,
    //  by default, gradients cannot be animated. 
    //  To overcome this, I will use a font-size
    //   hack to be able to animate the radial gradient.
  font-size: calc(var(--s)/5);
}
        }

        .center-image-rhombus{
            .gallery {
  --s: 200px; /* control the size */
  --g: 10px;  /* control the gap */
  
  display: grid;
  gap: var(--g);
  grid-template-columns: repeat(2,auto);
  position: relative;
  font-size: 0;
  transition: .5s;
  cursor: pointer;
}
.gallery > img {
  width: var(--s);
  aspect-ratio: 1;
  object-fit: cover;
  -webkit-mask: linear-gradient(var(--_a),#0000 calc(25% + 0.2929*var(--g) + 1em),#000 0);
}
.gallery > img:nth-child(1) {--_a:-45deg}
.gallery > img:nth-child(2) {--_a: 45deg}
.gallery > img:nth-child(3) {--_a:-135deg}
.gallery > img:nth-child(4) {--_a: 135deg}
.gallery > img:nth-child(5) {
  position: absolute;
  width: calc(var(--s) + 2.82em);
  inset: 0;
  margin: auto;
  clip-path: polygon(50% 0,100% 50%,50% 100%,0 50%);
}

.gallery:hover {
  font-size: calc(var(--s)/5);
} 
        }

        .center-image-full-circle{
            .gallery {
  --s: 200px; /* control the size */
  --g: 8px;   /* control the gap */
  
  display: grid;
  grid: auto-flow var(--s)/repeat(2,var(--s));
  gap: var(--g);
}
.gallery > img {
  width: 100%; 
  aspect-ratio: 1;
  cursor: pointer;
  filter: grayscale(1);
  z-index: 0;
  transition: .25s,z-index 0s .25s;
}
.gallery > img:hover {
  width: calc(200% + var(--g));
  filter: grayscale(0);
  //We also ensure the z-index has a higher value on the
  // hovered image, so it is the top one in our stacking context
  z-index: 1;
  --_c: 50%; /* same as "50% at 50% 50%"  
  When using circle(), the default position of the center
   point is 50% 50%, so we get to omit that for more 
   concise code. That’s why you see that we are only
    setting 50% instead of 50% at 50% 50%
  i.e. full circle carved from center of square */
  transition: .4s,z-index 0s;
}

//Same issue here. We are increasing the size of the 
// images so each one overflows its grid cells. But if
//  we do nothing, all of them will overflow on the 
//  right and bottom sides of the grid. What we need is:

// the first image to overflow the bottom-right edge (the default behavior),
// the second image to overflow the bottom-left edge,
// the third image to overflow the top-right edge, and
// the fourth image to overflow the top-left edge.

// To get that, we need to place each image correctly using the place-self property.


//In case you are not familiar with place-self, 
// it’s the shorthand for justify-self and align-self
//  to place the element horizontally and vertically.
//   When it takes one value, both alignments use that
//    same value
.gallery > img:nth-child(1){
  clip-path: circle(var(--_c,55% at 70% 70%));
  place-self: start;
}
.gallery > img:nth-child(2){
  clip-path: circle(var(--_c,55% at 30% 70%));
  place-self: start end;
}
.gallery > img:nth-child(3){
  clip-path: circle(var(--_c,55% at 70% 30%));
  place-self: end start;
}
.gallery > img:nth-child(4){
  clip-path: circle(var(--_c,55% at 30% 30%));
  place-self: end;
}
        }

        .expanding-image-panel-basic{
            .gallery {
  --n: 1; /* number of rows*/
  --m: 5; /* number of columns */
  --g: 0px;  /* control the gap */
  --f: .8;   /* control the scale factor */
  
  display: grid;
  gap: var(--g);
  width: 100vw;
  height: 100vh;
  grid-template-columns: repeat(var(--m),auto);
}

.gallery > img {
  width: 0;
  height: 0;
  min-height: 100%;
  min-width: 100%;
  object-fit: cover;
  cursor: pointer;
  filter: grayscale(80%);
  transition: .35s linear;
}

.gallery img:hover{
  filter: grayscale(0);
  width:  calc(100vh*var(--f)/var(--n));
  height: calc(100vw*var(--f)/var(--m));
}
        }

        .expanding-image-panel-basic-two{
            .gallery {
  display: grid;
  height: 350px;
  width:100%;
  gap: 8px;
  //We only need one row and the number of columns should 
//   adjust based on the number of images. That means we 
//   no longer need variables for the number of rows (--n) 
//   and columns (--m ) but we need to use grid-auto-flow:
//    column, allowing the grid to auto-generate columns 
//    as we add new images. We will consider a fixed 
//    height for our container; by default, it will be full-width
  grid-auto-flow: column;
  place-items: center;
}
.gallery > img {
  width: 0;
  height: 0;
  min-width: 100%;
  min-height: 100%;
  object-fit: cover;
  cursor: pointer;
  transition: .5s;
}
.gallery > img:hover {
  width: 15vw; 
}  
        }

        .expanding-image-panel-basic-three{
            .gallery {
  --s: 50px;
  
  display: grid;
  height: 350px;
  width:100%;
  gap: 8px;
  grid-auto-flow: column;
  place-items: center;
}
.gallery > img {
  width: 0;
  height: 0;
  min-width: 100%;
  min-height: 100%;
  object-fit: cover;
  cursor: pointer;
  //clip-path: polygon(S 0%, 100% 0%, (100% - S) 100%, 0% 100%);
  clip-path: polygon(var(--s) 0,100% 0,calc(100% - var(--s)) 100%,0 100%);
  transition: .5s;
}
.gallery > img:hover {
  width: 15vw; 
} 
        }

        //We need to increase the width of the images to
        // create an overlap. We replace min-width: 100% with
        //  min-width: calc(100% + var(--s)), where --s is a 
        //  new variable that controls the shape.
     .expanding-image-panel-basic-four{
        .gallery {
  --s: 50px;
  
  display: grid;
  height: 350px;
  width:100%;
  gap: 8px;
  grid-auto-flow: column;
  place-items: center;
}
.gallery > img {
  width: 0;
  height: 0;
  min-width: calc(100% + var(--s));
  min-height: 100%;
  object-fit: cover;
  cursor: pointer;
  clip-path: polygon(var(--s) 0,100% 0,calc(100% - var(--s)) 100%,0 100%);
  transition: .5s;
}
.gallery > img:hover {
  width: 15vw; 
}
     } 
     
     .expanding-image-panel-final{
        .gallery {
  --s: 50px; /* control the slanted part */
  
  display: grid;
  height: 350px;
  width:100%;
  gap: 8px;
  grid-auto-flow: column;
  place-items: center;
}
.gallery > img {
  width: 0;
  min-width: calc(100% + var(--s));
  height: 0;
  min-height: 100%;
  object-fit: cover;
  clip-path: polygon(var(--s) 0,100% 0,calc(100% - var(--s)) 100%,0 100%);
  cursor: pointer;
  transition: .5s;
}
.gallery > img:hover {
  width: 15vw; 
}
//Now we need to fix the first and last images, so they 
// sort of bleed off the page without gaps. In other words,
//  we can remove the slant from the left side of the first
//   image and the slant from the right side of the last image.
//    We need a new clip-path specifically for those two images
.gallery > img:first-child {
  min-width: calc(100% + var(--s)/2);
  //We also need to rectify the overflow. By default, 
//   all the images will overflow on both sides, but for
//    the first one, we need an overflow on the right side
//     while we need a left overflow for the last image
  place-self: start;
  clip-path: polygon(0 0,100% 0,calc(100% - var(--s)) 100%,0 100%);
}
.gallery > img:last-child {
  min-width: calc(100% + var(--s)/2);
  place-self: end;
  clip-path: polygon(var(--s) 0,100% 0,100% 100%,0 100%);
}
     }


     .zig-zag-basic{
        .gallery {
  --s: 30px; /* control the zig-zag size */
  
  display: grid;
  height: 350px;
  width:100%;
  gap: 8px;
  grid-auto-flow: column;
  place-items: center;
}
.gallery > img {
  width: 0;
  min-width: calc(100% + var(--s));
  height: 0;
  min-height: 100%;
  object-fit: cover;
  //All I’m doing here is replacing clip-path with mask
  --mask: 
    conic-gradient(from -135deg at right,#0000,#000 1deg 89deg,#0000 90deg) 
      100% calc(50% + var(--_p,0%))/51% calc(2*var(--s)) repeat-y,
    conic-gradient(from   45deg at left ,#0000,#000 1deg 89deg,#0000 90deg) 
       0% calc(50% + var(--_p,0%)) /51% calc(2*var(--s)) repeat-y;
  -webkit-mask: var(--mask);
          mask: var(--mask);
  cursor: pointer;
  transition: .5s;
}
//The trickiest part here is to make sure the zig-zags are
//  perfectly aligned, and for this, we need to add an offset 
//  for every :nth-child(odd) image element

//Note the use of the --_p variable, which will fall back to 0% but
// will be equal to --_s for the odd images.
.gallery:hover > img:nth-child(odd) {
  --_p: var(--s);
}
//Also, notice how we use a different mask for the first 
// and last image as we did in the previous example. We
//  only need a zig-zag on the right side of the first 
//  image and the left side of the last image.
.gallery > img:first-child {
  min-width: calc(100% + var(--s)/2);
  place-self: start;
  --mask: 
    conic-gradient(from -135deg at right,#0000,#000 1deg 89deg,#0000 90deg) 
      0 calc(50% + var(--_p,0%))/100% calc(2*var(--s));
}
.gallery > img:last-child {
  min-width: calc(100% + var(--s)/2);
  place-self: end;
  --mask: 
    conic-gradient(from   45deg at left ,#0000,#000 1deg 89deg,#0000 90deg) 
       0 calc(50% + var(--_p,0%)) /100% calc(2*var(--s));
}
     }


     .zig-zag-final{
        .gallery {
  --s: 30px; /* control the zig-zag size */
  
  display: grid;
  height: 350px;
  width:100%;
  gap: 8px;
  grid-auto-flow: column;
  place-items: center;
}
.gallery > img {
  width: 0;
  min-width: calc(100% + var(--s));
  height: 0;
  min-height: 100%;
  object-fit: cover;
  --mask: 
    conic-gradient(from -135deg at right,#0000,#000 1deg 89deg,#0000 90deg) 
      100% calc(50% + var(--_p,0%))/51% calc(2*var(--s)) repeat-y,
    conic-gradient(from   45deg at left ,#0000,#000 1deg 89deg,#0000 90deg) 
        0% calc(50% + var(--_p,0%))/51% calc(2*var(--s)) repeat-y;
  -webkit-mask: var(--mask);
          mask: var(--mask);
  cursor: pointer;
  transition: .5s;
}
.gallery > img:nth-child(odd) {
  --_p: var(--s);
}
.gallery > img:hover {
  width: 15vw; 
}
.gallery > img:first-child {
  min-width: calc(100% + var(--s)/2);
  place-self: start;
  --mask: 
    conic-gradient(from -135deg at right,#0000,#000 1deg 89deg,#0000 90deg) 
      0 calc(50% + var(--_p,0%))/100% calc(2*var(--s));
}
.gallery > img:last-child {
  min-width: calc(100% + var(--s)/2);
  place-self: end;
  --mask: 
    conic-gradient(from   45deg at left ,#0000,#000 1deg 89deg,#0000 90deg) 
       0 calc(50% + var(--_p,0%)) /100% calc(2*var(--s));
}
     }

     .two-character-versus{
        .gallery {
  --z: 32px;  /* control the zig-zag  */
  --s: 360px; /* control the size */
  --g: 8px;   /* control the gap */
  
  display: grid;
  gap: var(--g);
  width: calc(2*var(--s) + var(--g));
  grid-auto-flow: column;
}
.gallery > img {
  width: 0;
  min-width: calc(100% + var(--z)/2);
  height: var(--s);
  object-fit: cover;
  -webkit-mask: var(--mask);
          mask: var(--mask);
  cursor: pointer;
  transition: .5s;
}
.gallery > img:hover {
  width: calc(var(--s)/2);
}
.gallery > img:first-child {
  place-self: start;
  clip-path: polygon(calc(2*var(--z)) 0,100% 0,100% 100%,0 100%);
  --mask: 
    conic-gradient(from -135deg at right,#0000,#000 1deg 89deg,#0000 90deg) 
      50%/100% calc(2*var(--z)) repeat-y;
}
.gallery > img:last-child {
  place-self: end;
  clip-path: polygon(0 0,100% 0,calc(100% - 2*var(--z)) 100%,0 100%);
  --mask: 
    conic-gradient(from   45deg at left ,#0000,#000 1deg 89deg,#0000 90deg) 
      50% calc(50% - var(--z))/100% calc(2*var(--z)) repeat-y;
}
     }
    </style>